

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>DQN.Qmemory &mdash; DeepQ-pong 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DQN.deepQ" href="DQN.deepQ.html" />
    <link rel="prev" title="DQN documentation" href="../DQN.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DeepQ-pong
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Read Me</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../DQN.html">DQN documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../DQN.html#module-DQN">DQN API</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">DQN.Qmemory</a></li>
<li class="toctree-l3"><a class="reference internal" href="DQN.deepQ.html">DQN.deepQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">AWS Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../License.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DeepQ-pong</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../DQN.html">DQN documentation</a> &raquo;</li>
        
      <li>DQN.Qmemory</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/stubs/DQN.Qmemory.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dqn-qmemory">
<h1>DQN.Qmemory<a class="headerlink" href="#dqn-qmemory" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="DQN.Qmemory">
<em class="property">class </em><code class="descclassname">DQN.</code><code class="descname">Qmemory</code><span class="sig-paren">(</span><em>N_mem</em>, <em>N_x</em>, <em>N_y</em>, <em>N_frames</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/DQN/qmemory.html#Qmemory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DQN.Qmemory" title="Permalink to this definition">¶</a></dt>
<dd><p>memory object for Q learning</p>
<p>This class provides a way to define a memory object for depp Q learning,
to provide memory recall. memory is made up of memory of transitions during
‘play’. This is made of memory of states i, j (=i+1), the action take at i (to get to j)
the reward earned by making that action, and whether the state j was the end of the game.</p>
<p>transitions can be added to the memory with the ‘write’ method. This will automatically
add the transition data to the memory, and once the memory is full, will start
to rewrite the memory of events from many moves ago.</p>
<p>One can also retrieve a subset of the memory using ‘get_batch’. This selects a
random subset, taking into account whether the memory is full, and if not only pulling
from examples that are already ‘filled in’ in the memory.</p>
<dl class="method">
<dt id="DQN.Qmemory.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>N_mem</em>, <em>N_x</em>, <em>N_y</em>, <em>N_frames</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/DQN/qmemory.html#Qmemory.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DQN.Qmemory.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a memory object</p>
<p>Create an object for storing transitions between states in the game/process
being learned. A single transition contains (phi_i,phi_j,a_i,r_i,terminal_i):</p>
<p>phi_i: state before action taken
phi_j: state after action taken
a_i:   the action that was taken
r_i:   the reward received for this action
terminal_i: whether this move was terminal for the game/process</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>N_mem</strong> – how large the memory should be = how many transitions to store</li>
<li><strong>obs_data_size</strong> – how large is each observation (state), as a single integer.
e.g a 2d frame of 80x80 80x80=1600</li>
<li><strong>N_frames</strong> – how many frames are stored per state</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#DQN.Qmemory.__init__" title="DQN.Qmemory.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(N_mem,&nbsp;N_x,&nbsp;N_y,&nbsp;N_frames)</td>
<td>Create a memory object</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#DQN.Qmemory.get_batch" title="DQN.Qmemory.get_batch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_batch</span></code></a>(N_get)</td>
<td>Get a subset of the memory for training Q network.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#DQN.Qmemory.write" title="DQN.Qmemory.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(phi_i,&nbsp;phi_j,&nbsp;action,&nbsp;reward,&nbsp;…)</td>
<td>Write a set of transition data to the memory</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="DQN.Qmemory.get_batch">
<code class="descname">get_batch</code><span class="sig-paren">(</span><em>N_get</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/DQN/qmemory.html#Qmemory.get_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DQN.Qmemory.get_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a subset of the memory for training Q network.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>N_get</strong> – how many transition event to get (i.e. return)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>a dictionary containing memory arrays:</dt>
<dd><ul class="first last simple">
<li>phi_i: state i</li>
<li>phi_j: state j (=i+1)</li>
<li>r_i: reward</li>
<li>t_i: whether terminal</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">batch_dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="DQN.Qmemory.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>phi_i</em>, <em>phi_j</em>, <em>action</em>, <em>reward</em>, <em>terminal_float</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/DQN/qmemory.html#Qmemory.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#DQN.Qmemory.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a set of transition data to the memory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>phi_i</strong> – state i</li>
<li><strong>phi_j</strong> – state_j</li>
<li><strong>action</strong> – action taken at i</li>
<li><strong>reward</strong> – reward recieved</li>
<li><strong>terminal_float</strong> – is the move terminal, is it the last move in game, as a float: 0 means is last move, 1 means isnt.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>writes the data into position np.mod(self.mem_count,self.N_mem) in the memory.
This means that it will loop back to position 0 once the memory is full, and
memory will be rewritten.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="DQN.deepQ.html" class="btn btn-neutral float-right" title="DQN.deepQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../DQN.html" class="btn btn-neutral float-left" title="DQN documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Peter Hawkins

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>